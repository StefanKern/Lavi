<header class="navbar navbar-light navbar-fixed-top navbar-expand-lg">
  <a class="navbar-brand" [routerLink]="['/']" (click)="navbarCollapsed = true"><b>LAVI</b></a>

  <button class="navbar-toggler navbar-toggler-right" type="button" (click)="navbarCollapsed = !navbarCollapsed"
          [attr.aria-expanded]="!navbarCollapsed" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="navbar-collapse" [ngbCollapse]="navbarCollapsed" id="navbarContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/openoffer']" (click)="navbarCollapsed = true">Create Offer</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/takeoffer']" (click)="navbarCollapsed = true">Open Offers</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/grantoffer']" (click)="navbarCollapsed = true">Grant Offers</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/yourfiles']" (click)="navbarCollapsed = true">Your Files</a>
      </li>
    </ul>
    <form novalidate="" [hidden]="loggedIn">
      <button class="btn btn-primary" type="submit" (click)="open(lgoinmodal)">Login</button>
    </form>


    <div class="btn-group" [hidden]="!loggedIn">
      <button type="button" class="btn btn-primary" (click)="logout()">Logout</button>
      <div class="btn-group" ngbDropdown placement="bottom-right">
        <button class="btn btn-primary" ngbDropdownToggle></button>
        <div class="dropdown-menu" ngbDropdownMenu>
          <ul class="list-group">
            <li class="list-group-item">
              <b>WIF</b><br />
              <code>{{account.WIF}}</code>
            </li>
            <li class="list-group-item">
              <b>PrivateKey</b><br />
              <code>{{account.privateKey}}</code>
            </li>
            <li class="list-group-item">
              <b>PublicKey</b><br />
              <code>{{account.publicKey}}</code>
            </li>
            <li class="list-group-item">
              <b>ScriptHash</b><br />
              <code>{{account.scriptHash}}</code>
            </li>
            <li class="list-group-item">
              <b>Address</b><br />
              <code>{{account.address}}</code>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container-fluid">
  <main role="main" class="container mt-5">
    <router-outlet></router-outlet>
  </main>
</div>

<ng-template #lgoinmodal let-c="close" let-d="dismiss">
  <form #creationForm="ngForm" (ngSubmit)="login(creationForm)">
    <div class="modal-header">
      <h4 class="modal-title">Login</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="wif">WIF:</label>
        <input class="form-control"
               name="name"
               placeholder="6PYKN6jd6wGE4dR2FP..."
               type="text"
               id="wif"
               required
               [(ngModel)]="wif"
               minlength="52"
               maxlength="52">
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="cbRemeberMe"
               [(ngModel)]="rememberme"
               name="remeberMeo">
        <label class="form-check-label" for="cbRemeberMe">Remeber me</label>
      </div>
      <small>This information never leaves the client!</small>
    </div>
    <div class="modal-footer">
      <button type="submit" class="btn btn-primary">Login</button>
    </div>
  </form>
</ng-template>

<footer class="footer p-3">
  <hr />
  From Stefan Kern <a href="http://kern.pro/">http://kern.pro/ (DE)</a>

  <div ngbDropdown class="d-inline-block float-right" placement="top-right">
    <button class="btn btn-link" id="dropdownBasic1" ngbDropdownToggle>Tests</button>
    <div ngbDropdownMenu>
      <span class="dropdown-header h6">Infrastructure Demos</span>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/aestest']" (click)="navbarCollapsed = true">AES encryption</a>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/azureblobstorageconnetion']" (click)="navbarCollapsed = true">Azure Blobstorage Connectioon</a>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/sharedsecret']" (click)="navbarCollapsed = true">Generate Shared Secrets</a>

      <div class="dropdown-divider"></div>
      <span class="dropdown-header h6">Neon-js Demos</span>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/balanceandsending']" (click)="navbarCollapsed = true">Send Neo/Gas Assets</a>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/smartcontracts']" (click)="navbarCollapsed = true">Smart contracts (WITHOUT transitions)</a>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/storagemartcontracts']" (click)="navbarCollapsed = true">Smart contracts (WITH transitions)</a>

      <div class="dropdown-divider"></div>
      <span class="dropdown-header h6">Various Demos</span>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item pl-5" [routerLink]="['/tests/neolink']" (click)="navbarCollapsed = true">NeoLink connection</a>
    </div>
  </div>
</footer>
